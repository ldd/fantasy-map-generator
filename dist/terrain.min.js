var terrain=function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};return n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="./dist/",n(n.s=14)}([function(t,n,r){"use strict";function e(t){for(var n=[],r=0;r<t.vxs.length;r++)n[r]=0;return n.mesh=t,n}function i(t,n){n=n||c.a;var e=a(t,n);return r.i(c.b)(e,n)}function a(t,n){n=n||c.a;var e=r.i(c.c)(t,n);return e=e.sort(function(t,n){return t[0]-n[0]}),r.i(c.d)(e,1,n)}function u(t,n){return t.map(function(t){return t[0]*n[0]+t[1]*n[1]})}function o(t,n){return t+Math.random()*(n-t)}function f(t){return[t*l(),t*l()]}function h(){for(var t=arguments[0].length,n=e(arguments[0].mesh),r=0;r<t;r++)for(var i=0;i<arguments.length;i++)n[r]+=arguments[i][r];return n}function s(t,n){var r=t.vxs[n][0],e=t.vxs[n][1],i=t.extent.width,a=t.extent.height;return r<-.45*i||r>.45*i||e<-.45*a||e>.45*a}var c=r(4);n.a=e,n.c=i,n.e=u,n.g=o,n.f=f,n.d=h,n.b=s;const l=function(){function t(){if(null!=n){var t=n;return n=null,t}for(var r=0,e=0,i=2;i>=1;)r=o(-1,1),e=o(-1,1),i=r*r+e*e;return i=Math.sqrt(-2*Math.log(i)/i),n=e*i,r*i}var n=null;return t}();n.h=l},function(t,n){t.exports=d3},function(t,n,r){"use strict";function e(t,n){return t.map(function(t){return Math.pow(t[0]*t[0]+t[1]*t[1],.5)*n})}function i(t,n,e){e=e||.05;for(var i=[],a=0;a<n;a++)i.push([t.extent.width*(Math.random()-.5),t.extent.height*(Math.random()-.5)]);for(var u=r.i(v.a)(t),a=0;a<t.vxs.length;a++)for(var o=t.vxs[a],f=0;f<n;f++){var h=i[f];u[a]+=Math.exp(-((o[0]-h[0])*(o[0]-h[0])+(o[1]-h[1])*(o[1]-h[1]))/(e*e))}return u}function a(t,n){var r=t.map(n);return r.mesh=t.mesh,r}function u(t){var n=r.i(l.min)(t),e=r.i(l.max)(t);return a(t,function(t){return(t-n)/(e-n)})}function o(t){return a(u(t),Math.sqrt)}function f(t,n){for(var r=t.adj[n],e=[],n=0;n<r.length;n++)e.push(r[n]);return e}function h(t,n){n=n||1e-5;for(var e=999999,i=r.i(v.a)(t.mesh),a=0;a<t.length;a++)r.i(v.b)(t.mesh,a)?i[a]=t[a]:i[a]=e;for(;;){for(var u=!1,a=0;a<t.length;a++)if(i[a]!=t[a])for(var o=f(t.mesh,a),h=0;h<o.length;h++){if(t[a]>=i[o[h]]+n){i[a]=t[a],u=!0;break}var s=i[o[h]]+n;i[a]>s&&s>t[a]&&(i[a]=s,u=!0)}if(!u)return i}}function s(t,n){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e.sort(l.ascending),r.i(l.quantile)(e,n)}function c(t,n){for(var e=r.i(v.a)(t.mesh),i=s(t,n),a=0;a<t.length;a++)e[a]=t[a]-i;return e}var l=r(1),v=(r.n(l),r(0));n.d=e,n.e=i,n.f=o,n.c=f,n.b=h,n.a=c},function(t,n,r){"use strict";function e(t,n){return t.adj[n].length<3}function i(t){function n(n){if(e(t.mesh,n))return-2;for(var i=-1,a=t[n],u=r.i(s.c)(t.mesh,n),o=0;o<u.length;o++)t[u[o]]<a&&(a=t[u[o]],i=u[o]);return i}if(t.downhill)return t.downhill;for(var i=[],a=0;a<t.length;a++)i[a]=n(a);return t.downhill=i,i}function a(t){for(var n=i(t),e=[],a=r.i(h.a)(t.mesh),u=0;u<t.length;u++)e[u]=u,a[u]=1/t.length;e.sort(function(n,r){return t[r]-t[n]});for(var u=0;u<t.length;u++){var o=e[u];n[o]>=0&&(a[n[o]]+=a[o])}return a}function u(t,n){var e=r.i(s.c)(t.mesh,n);if(3!=e.length)return[0,0];var i=t.mesh.vxs[e[0]],a=t.mesh.vxs[e[1]],u=t.mesh.vxs[e[2]],o=a[0]-i[0],f=u[0]-i[0],h=a[1]-i[1],c=u[1]-i[1],l=o*c-f*h,v=t[e[1]]-t[e[0]],g=t[e[2]]-t[e[0]];return[(c*v-h*g)/l,(-f*v+o*g)/l]}function o(t){for(var n=(i(t),r.i(h.a)(t.mesh)),e=0;e<t.length;e++){var a=u(t,e);n[e]=Math.sqrt(a[0]*a[0]+a[1]*a[1])}return n}function f(t){for(var n=a(t),e=o(t),i=r.i(h.a)(t.mesh),u=0;u<t.length;u++){var f=Math.sqrt(n[u])*e[u],s=e[u]*e[u],c=1e3*f+s;c=c>200?200:c,i[u]=c}return i}var h=r(0),s=r(2);n.b=i,n.c=a,n.d=u,n.a=f},function(t,n,r){"use strict";function e(t,n){n=n||h;for(var r=[],e=0;e<t;e++)r.push([(Math.random()-.5)*n.width,(Math.random()-.5)*n.height]);return r}function i(t,n){n=n||h;for(var r=a(t,n),e=[],i={},u=[],o=[],f=[],s=0;s<r.edges.length;s++){var c=r.edges[s];if(void 0!=c){var l=i[c[0]],v=i[c[1]];void 0==l&&(l=e.length,i[c[0]]=l,e.push(c[0])),void 0==v&&(v=e.length,i[c[1]]=v,e.push(c[1])),u[l]=u[l]||[],u[l].push(v),u[v]=u[v]||[],u[v].push(l),o.push([l,v,c.left,c.right]),f[l]=f[l]||[],f[l].includes(c.left)||f[l].push(c.left),c.right&&!f[l].includes(c.right)&&f[l].push(c.right),f[v]=f[v]||[],f[v].includes(c.left)||f[v].push(c.left),c.right&&!f[v].includes(c.right)&&f[v].push(c.right)}}var g={pts:t,vor:r,vxs:e,adj:u,tris:f,edges:o,extent:n};return g.map=function(t){var n=e.map(t);return n.mesh=g,n},g}function a(t,n){n=n||h;var e=n.width/2,i=n.height/2;return r.i(f.voronoi)().extent([[-e,-i],[e,i]])(t)}function u(t){for(var n=0,r=0,e=0;e<t.length;e++)n+=t[e][0],r+=t[e][1];return[n/t.length,r/t.length]}function o(t,n,r){n=n||1,r=r||h;for(var e=0;e<n;e++)t=a(t,r).polygons(t).map(u);return t}var f=r(1);r.n(f);n.c=e,n.b=i,n.d=o;const h={width:1,height:1};n.a=h},function(t,n,r){"use strict";function e(t){for(var n={},r=0;r<t.length;r++){var e=t[r],i=n[e[0]]||[],a=n[e[1]]||[];i.push(e[1]),a.push(e[0]),n[e[0]]=i,n[e[1]]=a}for(var u=[],o=[],f=null;;){if(null==f){for(var r=0;r<t.length;r++)if(!u[r]){u[r]=!0,f=[t[r][0],t[r][1]];break}if(null==f)break}for(var h=!1,r=0;r<t.length;r++)if(!u[r]){if(2==n[f[0]].length&&t[r][0]==f[0])f.unshift(t[r][1]);else if(2==n[f[0]].length&&t[r][1]==f[0])f.unshift(t[r][0]);else if(2==n[f[f.length-1]].length&&t[r][0]==f[f.length-1])f.push(t[r][1]);else{if(2!=n[f[f.length-1]].length||t[r][1]!=f[f.length-1])continue;f.push(t[r][0])}u[r]=!0,h=!0;break}h||(o.push(f),f=null)}return o}function i(t){for(var n=[t[0]],r=1;r<t.length-1;r++){var e=[.25*t[r-1][0]+.5*t[r][0]+.25*t[r+1][0],.25*t[r-1][1]+.5*t[r][1]+.25*t[r+1][1]];n.push(e)}return n.push(t[t.length-1]),n}function a(t,n){for(var a=r.i(o.b)(t),f=r.i(o.c)(t),h=[],s=0,c=0;c<t.length;c++)t[c]>0&&s++;n*=s/t.length;for(var c=0;c<a.length;c++)if(!r.i(u.b)(t.mesh,c)&&f[c]>n&&t[c]>0&&a[c]>=0){var l=t.mesh.vxs[c],v=t.mesh.vxs[a[c]];t[a[c]]>0?h.push([l,v]):h.push([l,[(l[0]+v[0])/2,(l[1]+v[1])/2]])}return e(h).map(i)}var u=r(0),o=r(3);n.b=e,n.a=a},function(t,n,r){"use strict";function e(t,n){n=n||0;for(var e=[],u=0;u<t.mesh.edges.length;u++){var o=t.mesh.edges[u];void 0!=o[3]&&(r.i(i.b)(t.mesh,o[0])||r.i(i.b)(t.mesh,o[1])||(t[o[0]]>n&&t[o[1]]<=n||t[o[1]]>n&&t[o[0]]<=n)&&e.push([o[2],o[3]]))}return r.i(a.b)(e)}var i=r(0),a=r(5);n.a=e},function(t,n,r){"use strict";function e(t,n){for(var e=n.h,i=[],a=.25/Math.sqrt(e.length),u=0;u<e.length;u++)if(!(e[u]<=0||r.i(h.b)(e.mesh,u))){var o=r.i(s.c)(e.mesh,u);o.push(u);for(var f=0,l=0,v=0;v<o.length;v++){var g=r.i(c.d)(e,o[v]);f+=g[0]/10,l+=g[1]}if(f/=o.length,l/=o.length,!(Math.abs(f)<r.i(h.g)(.1,.4))){var p=a*r.i(h.g)(1,2)*(1-.2*Math.pow(Math.atan(f),2))*Math.exp(l/100),d=e.mesh.vxs[u][0],m=e.mesh.vxs[u][1];if(Math.abs(p*f)>2*a){var x=Math.floor(Math.abs(p*f/a));p/=x,x>4&&(x=4);for(var b=0;b<x;b++){var M=r.i(h.h)()*a,y=r.i(h.h)()*a;i.push([[d+M-p,m+y+p*f],[d+M+p,m+y-p*f]])}}else i.push([[d-p,m+p*f],[d+p,m-p*f]])}}var w=t.selectAll("line.slope").data(i);w.enter().append("line").classed("slope",!0),w.exit().remove(),t.selectAll("line.slope").attr("x1",function(t){return 1e3*t[0][0]}).attr("y1",function(t){return 1e3*t[0][1]}).attr("x2",function(t){return 1e3*t[1][0]}).attr("y2",function(t){return 1e3*t[1][1]})}function i(t){var n=r.i(f.path)();n.moveTo(1e3*t[0][0],1e3*t[0][1]);for(var e=1;e<t.length;e++)n.lineTo(1e3*t[e][0],1e3*t[e][1]);return n.toString()}function a(t,n,e,a,u){void 0===a&&(a=r.i(o.max)(n)+1e-9),void 0===e&&(e=r.i(o.min)(n)-1e-9);var f=n.map(function(t){return t>a?1:t<e?0:(t-e)/(a-e)}),h=t.selectAll("path.field").data(n.mesh.tris);h.enter().append("path").classed("field",!0),h.exit().remove(),t.selectAll("path.field").attr("d",i).style("fill-opacity","0.85").style("fill",function(t,n){return u(f[n])})}function u(t,n,r){var e=t.selectAll("path."+n).data(r);e.enter().append("path").classed(n,!0),e.exit().remove(),t.selectAll("path."+n).attr("d",i)}var o=r(1),f=(r.n(o),r(1)),h=(r.n(f),r(0)),s=r(2),c=r(3);r(6);n.b=e,n.c=a,n.a=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(7);r.d(n,"drawPaths",function(){return e.a});var i=r(11);r.d(n,"drawMap",function(){return i.a}),r.d(n,"colorMap",function(){return i.b});var a=r(10);r.d(n,"generateMap",function(){return a.a})},function(t,n,r){"use strict";function e(t,n){for(var e=0;e<n;e++){for(var i=0,a=r.i(f.a)(t.mesh),u=0;u<t.length;u++){a[u]=t[u];var o=r.i(h.c)(t.mesh,u);if(!(t[u]<=0||3!=o.length)){for(var s=0,c=-999999,l=0;l<o.length;l++)t[o[l]]>0?s++:t[o[l]]>c&&(c=t[o[l]]);s>1||(a[u]=c/2,i++)}}t=a,a=r.i(f.a)(t.mesh);for(var u=0;u<t.length;u++){a[u]=t[u];var o=r.i(h.c)(t.mesh,u);if(!(t[u]>0||3!=o.length)){for(var s=0,c=999999,l=0;l<o.length;l++)t[o[l]]<=0?s++:t[o[l]]<c&&(c=t[o[l]]);s>1||(a[u]=c/2,i++)}}t=a}return t}function i(t){for(var n=r.i(f.a)(t.mesh),e=function(n){return t[n]},i=0;i<t.length;i++){var a=r.i(h.c)(t.mesh,i);a.length<3?n[i]=0:n[i]=r.i(c.mean)(a.map(e))}return n}function a(t,n){for(var e=r.i(s.a)(t),i=r.i(f.a)(t.mesh),a=r.i(c.max)(e),u=0;u<t.length;u++)i[u]=t[u]-n*(e[u]/a);return i}function u(t,n,e){e=e||1,t=r.i(h.b)(t);for(var i=0;i<e;i++)t=a(t,n),t=r.i(h.b)(t);return t}function o(t){for(var n=r.i(f.c)(t.npts,t.extent),a=r.i(f.d)(r.i(f.e)(n,r.i(f.f)(4)),r.i(h.d)(n,r.i(f.g)(-1,-1)),r.i(h.e)(n,50)),o=0;o<10;o++)a=i(a);return a=r.i(h.f)(a),a=u(a,r.i(f.g)(0,.1),5),a=r.i(h.a)(a,r.i(f.g)(.2,.6)),a=r.i(h.b)(a),a=e(a,3)}var f=r(0),h=r(2),s=r(3),c=r(1);r.n(c);n.c=e,n.b=u,n.a=o},function(t,n,r){"use strict";function e(t,n){u()(t,{global:n})}function i(t,n,i){t=t||Math.pow(2,10),n=n||"map",e(n,i);var a=r.i(f.a)({npts:t,extent:o.a});return{points:a,coast:r.i(s.a)(a,0),rivers:r.i(h.a)(a,.03),mesh:a.mesh}}var a=r(13),u=r.n(a),o=r(4),f=r(9),h=r(5),s=r(6);r(2);n.a=i},function(t,n,r){"use strict";function e(t){return 0===t?"#1E3167":r.i(o.scaleLinear)().range(["#d79d56","#ca852f"])(t)}function i(t,n,e,i){r.i(u.a)(t,"coast",e),r.i(u.a)(t,"river",i),r.i(u.b)(t,{h:n})}function a(t,n,i){r.i(u.c)(t,n,0,void 0,i||e)}var u=r(7),o=r(1);r.n(o);n.a=i,n.b=a},function(t,n){},function(t,n,r){var e;!function(i,a){function u(t,n,r){var e=[];n=1==n?{entropy:!0}:n||{};var u=s(h(n.entropy?[t,l(i)]:null==t?c():t,3),e),v=new o(e),g=function(){for(var t=v.g(d),n=b,r=0;t<M;)t=(t+r)*p,n*=p,r=v.g(1);for(;t>=y;)t/=2,n/=2,r>>>=1;return(t+r)/n};return g.int32=function(){return 0|v.g(4)},g.quick=function(){return v.g(4)/4294967296},g.double=g,s(l(v.S),i),(n.pass||r||function(t,n,r,e){return e&&(e.S&&f(e,v),t.state=function(){return f(v,{})}),r?(a[x]=t,n):t})(g,u,"global"in n?n.global:this==a,n.state)}function o(t){var n,r=t.length,e=this,i=0,a=e.i=e.j=0,u=e.S=[];for(r||(t=[r++]);i<p;)u[i]=i++;for(i=0;i<p;i++)u[i]=u[a=w&a+t[i%r]+(n=u[i])],u[a]=n;(e.g=function(t){for(var n,r=0,i=e.i,a=e.j,u=e.S;t--;)n=u[i=w&i+1],r=r*p+u[w&(u[i]=u[a=w&a+n])+(u[a]=n)];return e.i=i,e.j=a,r})(p)}function f(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function h(t,n){var r,e=[],i=typeof t;if(n&&"object"==i)for(r in t)try{e.push(h(t[r],n-1))}catch(t){}return e.length?e:"string"==i?t:t+"\0"}function s(t,n){for(var r,e=t+"",i=0;i<e.length;)n[w&i]=w&(r^=19*n[w&i])+e.charCodeAt(i++);return l(n)}function c(){try{if(v)return l(v.randomBytes(p));var t=new Uint8Array(p);return(g.crypto||g.msCrypto).getRandomValues(t),l(t)}catch(t){var n=g.navigator,r=n&&n.plugins;return[+new Date,g,r,g.screen,l(i)]}}function l(t){return String.fromCharCode.apply(0,t)}var v,g=this,p=256,d=6,m=52,x="random",b=a.pow(p,d),M=a.pow(2,m),y=2*M,w=p-1;if(a["seed"+x]=u,s(a.random(),i),"object"==typeof t&&t.exports){t.exports=u;try{v=r(12)}catch(t){}}else e=function(){return u}.call(n,r,n,t),!(void 0!==e&&(t.exports=e))}([],Math)},function(t,n,r){t.exports=r(8)}]);