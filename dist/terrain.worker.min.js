var terrain=function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};return n.m=t,n.c=r,n.i=function(t){return t},n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="./dist/",n(n.s=51)}([function(t,n,r){"use strict";n.a=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}},function(t,n,r){"use strict";function e(t){for(var n=[],r=0;r<t.vxs.length;r++)n[r]=0;return n.mesh=t,n}function i(t,n){n=n||l.a;var e=u(t,n);return r.i(l.b)(e,n)}function u(t,n){n=n||l.a;var e=r.i(l.c)(t,n);return e=e.sort(function(t,n){return t[0]-n[0]}),r.i(l.d)(e,1,n)}function f(t,n){return t.map(function(t){return t[0]*n[0]+t[1]*n[1]})}function a(t,n){return t+Math.random()*(n-t)}function o(t){return[t*h(),t*h()]}function s(){for(var t=arguments[0].length,n=e(arguments[0].mesh),r=0;r<t;r++)for(var i=0;i<arguments.length;i++)n[r]+=arguments[i][r];return n}function c(t,n){var r=t.vxs[n][0],e=t.vxs[n][1],i=t.extent.width,u=t.extent.height;return r<-.45*i||r>.45*i||e<-.45*u||e>.45*u}var l=r(8);n.a=e,n.c=i,n.e=f,n.g=a,n.f=o,n.d=s,n.b=c;const h=function(){function t(){if(null!=n){var t=n;return n=null,t}for(var r=0,e=0,i=2;i>=1;)r=a(-1,1),e=a(-1,1),i=r*r+e*e;return i=Math.sqrt(-2*Math.log(i)/i),n=e*i,r*i}var n=null;return t}()},function(t,n,r){"use strict";n.a=function(t){return null===t?NaN:+t}},function(t,n,r){"use strict";function e(t,n,r){return(t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1])}function i(t,n){return n[1]-t[1]||n[0]-t[0]}function u(t,n){var e,u,d,b=t.sort(i).pop();for(g=[],h=new Array(t.length),l=new c.a,v=new c.a;;)if(d=o.a,b&&(!d||b[1]<d.y||b[1]===d.y&&b[0]<d.x))b[0]===e&&b[1]===u||(r.i(f.a)(b),e=b[0],u=b[1]),b=t.pop();else{if(!d)break;r.i(f.b)(d.arc)}if(r.i(a.a)(),n){var p=+n[0][0],m=+n[0][1],M=+n[1][0],C=+n[1][1];r.i(s.a)(p,m,M,C),r.i(a.b)(p,m,M,C)}this.edges=g,this.cells=h,l=v=g=h=null}var f=r(45),a=r(23),o=r(24),s=r(6),c=r(7);r.d(n,"b",function(){return d}),r.d(n,"f",function(){return b}),r.d(n,"e",function(){return l}),r.d(n,"c",function(){return h}),r.d(n,"g",function(){return v}),r.d(n,"d",function(){return g}),n.a=u;var l,h,v,g,d=1e-6,b=1e-12;u.prototype={constructor:u,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return r.i(a.c)(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(r,i){if(f=(u=r.halfedges).length)for(var u,f,a,o=r.site,s=-1,c=n[u[f-1]],l=c.left===o?c.right:c.left;++s<f;)a=l,c=n[u[s]],l=c.left===o?c.right:c.left,a&&l&&i<a.index&&i<l.index&&e(o,a,l)<0&&t.push([o.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,r){for(var e,i,u=this,f=u._found||0,a=u.cells.length;!(i=u.cells[f]);)if(++f>=a)return null;var o=t-i.site[0],s=n-i.site[1],c=o*o+s*s;do i=u.cells[e=f],f=null,i.halfedges.forEach(function(r){var e=u.edges[r],a=e.left;if(a!==i.site&&a||(a=e.right)){var o=t-a[0],s=n-a[1],l=o*o+s*s;l<c&&(c=l,f=a.index)}});while(null!==f);return u._found=e,null==r||c<=r*r?i.site:null}}},function(t,n,r){"use strict";function e(t,n){return t.map(function(t){return Math.pow(t[0]*t[0]+t[1]*t[1],.5)*n})}function i(t,n,e){e=e||.05;for(var i=[],u=0;u<n;u++)i.push([t.extent.width*(Math.random()-.5),t.extent.height*(Math.random()-.5)]);for(var f=r.i(v.a)(t),u=0;u<t.vxs.length;u++)for(var a=t.vxs[u],o=0;o<n;o++){var s=i[o];f[u]+=Math.exp(-((a[0]-s[0])*(a[0]-s[0])+(a[1]-s[1])*(a[1]-s[1]))/(e*e))}return f}function u(t,n){var r=t.map(n);return r.mesh=t.mesh,r}function f(t){var n=r.i(h.a)(t),e=r.i(h.b)(t);return u(t,function(t){return(t-n)/(e-n)})}function a(t){return u(f(t),Math.sqrt)}function o(t,n){for(var r=t.adj[n],e=[],n=0;n<r.length;n++)e.push(r[n]);return e}function s(t,n){n=n||1e-5;for(var e=999999,i=r.i(v.a)(t.mesh),u=0;u<t.length;u++)r.i(v.b)(t.mesh,u)?i[u]=t[u]:i[u]=e;for(;;){for(var f=!1,u=0;u<t.length;u++)if(i[u]!=t[u])for(var a=o(t.mesh,u),s=0;s<a.length;s++){if(t[u]>=i[a[s]]+n){i[u]=t[u],f=!0;break}var c=i[a[s]]+n;i[u]>c&&c>t[u]&&(i[u]=c,f=!0)}if(!f)return i}}function c(t,n){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e.sort(h.c),r.i(h.d)(e,n)}function l(t,n){for(var e=r.i(v.a)(t.mesh),i=c(t,n),u=0;u<t.length;u++)e[u]=t[u]-i;return e}var h=r(11),v=r(1);n.d=e,n.e=i,n.f=a,n.c=o,n.b=s,n.a=l},function(t,n,r){"use strict";var e=r(2);n.a=function(t,n,r){if(null==r&&(r=e.a),i=t.length){if((n=+n)<=0||i<2)return+r(t[0],0,t);if(n>=1)return+r(t[i-1],i-1,t);var i,u=(i-1)*n,f=Math.floor(u),a=+r(t[f],f,t),o=+r(t[f+1],f+1,t);return a+(o-a)*(u-f)}}},function(t,n,r){"use strict";function e(t,n,r,e){var i=[null,null],f=s.d.push(i)-1;return i.left=t,i.right=n,r&&u(i,t,n,r),e&&u(i,n,t,e),s.c[t.index].halfedges.push(f),s.c[n.index].halfedges.push(f),i}function i(t,n,r){var e=[n,r];return e.left=t,e}function u(t,n,r,e){t[0]||t[1]?t.left===r?t[1]=e:t[0]=e:(t[0]=e,t.left=n,t.right=r)}function f(t,n,r,e,i){var u,f=t[0],a=t[1],o=f[0],s=f[1],c=a[0],l=a[1],h=0,v=1,g=c-o,d=l-s;if(u=n-o,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<v&&(v=u)}else if(g>0){if(u>v)return;u>h&&(h=u)}if(u=e-o,g||!(u<0)){if(u/=g,g<0){if(u>v)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<v&&(v=u)}if(u=r-s,d||!(u>0)){if(u/=d,d<0){if(u<h)return;u<v&&(v=u)}else if(d>0){if(u>v)return;u>h&&(h=u)}if(u=i-s,d||!(u<0)){if(u/=d,d<0){if(u>v)return;u>h&&(h=u)}else if(d>0){if(u<h)return;u<v&&(v=u)}return!(h>0||v<1)||(h>0&&(t[0]=[o+h*g,s+h*d]),v<1&&(t[1]=[o+v*g,s+v*d]),!0)}}}}}function a(t,n,r,e,i){var u=t[1];if(u)return!0;var f,a,o=t[0],s=t.left,c=t.right,l=s[0],h=s[1],v=c[0],g=c[1],d=(l+v)/2,b=(h+g)/2;if(g===h){if(d<n||d>=e)return;if(l>v){if(o){if(o[1]>=i)return}else o=[d,r];u=[d,i]}else{if(o){if(o[1]<r)return}else o=[d,i];u=[d,r]}}else if(f=(l-v)/(g-h),a=b-f*d,f<-1||f>1)if(l>v){if(o){if(o[1]>=i)return}else o=[(r-a)/f,r];u=[(i-a)/f,i]}else{if(o){if(o[1]<r)return}else o=[(i-a)/f,i];u=[(r-a)/f,r]}else if(h<g){if(o){if(o[0]>=e)return}else o=[n,f*n+a];u=[e,f*e+a]}else{if(o){if(o[0]<n)return}else o=[e,f*e+a];u=[n,f*n+a]}return t[0]=o,t[1]=u,!0}function o(t,n,r,e){for(var i,u=s.d.length;u--;)a(i=s.d[u],t,n,r,e)&&f(i,t,n,r,e)&&(Math.abs(i[0][0]-i[1][0])>s.b||Math.abs(i[0][1]-i[1][1])>s.b)||delete s.d[u]}var s=r(3);n.d=e,n.b=i,n.c=u,n.a=o},function(t,n,r){"use strict";function e(){this._=null}function i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,n){var r=n,e=n.R,i=r.U;i?i.L===r?i.L=e:i.R=e:t._=e,e.U=i,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function f(t,n){var r=n,e=n.L,i=r.U;i?i.L===r?i.L=e:i.R=e:t._=e,e.U=i,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function a(t){for(;t.L;)t=t.L;return t}n.b=i,e.prototype={constructor:e,insert:function(t,n){var r,e,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;r=t}else this._?(t=a(this._),n.P=null,n.N=t,t.P=t.L=n,r=t):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,t=n;r&&r.C;)e=r.U,r===e.L?(i=e.R,i&&i.C?(r.C=i.C=!1,e.C=!0,t=e):(t===r.R&&(u(this,r),t=r,r=t.U),r.C=!1,e.C=!0,f(this,e))):(i=e.L,i&&i.C?(r.C=i.C=!1,e.C=!0,t=e):(t===r.L&&(f(this,r),t=r,r=t.U),r.C=!1,e.C=!0,u(this,e))),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,r,e,i=t.U,o=t.L,s=t.R;if(r=o?s?a(s):o:s,i?i.L===t?i.L=r:i.R=r:this._=r,o&&s?(e=r.C,r.C=t.C,r.L=o,o.U=r,r!==s?(i=r.U,r.U=t.U,t=r.R,i.L=t,r.R=s,s.U=r):(r.U=i,i=r,t=r.R)):(e=t.C,t=r),t&&(t.U=i),!e){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,u(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,f(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,u(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,f(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,u(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,f(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},n.a=e},function(t,n,r){"use strict";function e(t,n){n=n||s;for(var r=[],e=0;e<t;e++)r.push([(Math.random()-.5)*n.width,(Math.random()-.5)*n.height]);return r}function i(t,n){n=n||s;for(var r=u(t,n),e=[],i={},f=[],a=[],o=[],c=0;c<r.edges.length;c++){var l=r.edges[c];if(void 0!=l){var h=i[l[0]],v=i[l[1]];void 0==h&&(h=e.length,i[l[0]]=h,e.push(l[0])),void 0==v&&(v=e.length,i[l[1]]=v,e.push(l[1])),f[h]=f[h]||[],f[h].push(v),f[v]=f[v]||[],f[v].push(h),a.push([h,v,l.left,l.right]),o[h]=o[h]||[],o[h].includes(l.left)||o[h].push(l.left),l.right&&!o[h].includes(l.right)&&o[h].push(l.right),o[v]=o[v]||[],o[v].includes(l.left)||o[v].push(l.left),l.right&&!o[v].includes(l.right)&&o[v].push(l.right)}}var g={pts:t,vor:r,vxs:e,adj:f,tris:o,edges:a,extent:n};return g.map=function(t){var n=e.map(t);return n.mesh=g,n},g}function u(t,n){n=n||s;var e=n.width/2,i=n.height/2;return r.i(o.a)().extent([[-e,-i],[e,i]])(t)}function f(t){for(var n=0,r=0,e=0;e<t.length;e++)n+=t[e][0],r+=t[e][1];return[n/t.length,r/t.length]}function a(t,n,r){n=n||1,r=r||s;for(var e=0;e<n;e++)t=u(t,r).polygons(t).map(f);return t}var o=r(44);n.c=e,n.b=i,n.d=a;const s={width:1,height:1};n.a=s},function(t,n,r){"use strict";function e(t,n){return t.adj[n].length<3}function i(t){function n(n){if(e(t.mesh,n))return-2;for(var i=-1,u=t[n],f=r.i(c.c)(t.mesh,n),a=0;a<f.length;a++)t[f[a]]<u&&(u=t[f[a]],i=f[a]);return i}if(t.downhill)return t.downhill;for(var i=[],u=0;u<t.length;u++)i[u]=n(u);return t.downhill=i,i}function u(t){for(var n=i(t),e=[],u=r.i(s.a)(t.mesh),f=0;f<t.length;f++)e[f]=f,u[f]=1/t.length;e.sort(function(n,r){return t[r]-t[n]});for(var f=0;f<t.length;f++){var a=e[f];n[a]>=0&&(u[n[a]]+=u[a])}return u}function f(t,n){var e=r.i(c.c)(t.mesh,n);if(3!=e.length)return[0,0];var i=t.mesh.vxs[e[0]],u=t.mesh.vxs[e[1]],f=t.mesh.vxs[e[2]],a=u[0]-i[0],o=f[0]-i[0],s=u[1]-i[1],l=f[1]-i[1],h=a*l-o*s,v=t[e[1]]-t[e[0]],g=t[e[2]]-t[e[0]];return[(l*v-s*g)/h,(-o*v+a*g)/h]}function a(t){for(var n=(i(t),r.i(s.a)(t.mesh)),e=0;e<t.length;e++){var u=f(t,e);n[e]=Math.sqrt(u[0]*u[0]+u[1]*u[1])}return n}function o(t){for(var n=u(t),e=a(t),i=r.i(s.a)(t.mesh),f=0;f<t.length;f++){var o=Math.sqrt(n[f])*e[f],c=e[f]*e[f],l=1e3*o+c;l=l>200?200:l,i[f]=l}return i}var s=r(1),c=r(4);n.b=i,n.c=u,n.a=o},function(t,n,r){"use strict";function e(t){for(var n={},r=0;r<t.length;r++){var e=t[r],i=n[e[0]]||[],u=n[e[1]]||[];i.push(e[1]),u.push(e[0]),n[e[0]]=i,n[e[1]]=u}for(var f=[],a=[],o=null;;){if(null==o){for(var r=0;r<t.length;r++)if(!f[r]){f[r]=!0,o=[t[r][0],t[r][1]];break}if(null==o)break}for(var s=!1,r=0;r<t.length;r++)if(!f[r]){if(2==n[o[0]].length&&t[r][0]==o[0])o.unshift(t[r][1]);else if(2==n[o[0]].length&&t[r][1]==o[0])o.unshift(t[r][0]);else if(2==n[o[o.length-1]].length&&t[r][0]==o[o.length-1])o.push(t[r][1]);else{if(2!=n[o[o.length-1]].length||t[r][1]!=o[o.length-1])continue;o.push(t[r][0])}f[r]=!0,s=!0;break}s||(a.push(o),o=null)}return a}function i(t){for(var n=[t[0]],r=1;r<t.length-1;r++){var e=[.25*t[r-1][0]+.5*t[r][0]+.25*t[r+1][0],.25*t[r-1][1]+.5*t[r][1]+.25*t[r+1][1]];n.push(e)}return n.push(t[t.length-1]),n}function u(t,n){for(var u=r.i(a.b)(t),o=r.i(a.c)(t),s=[],c=0,l=0;l<t.length;l++)t[l]>0&&c++;n*=c/t.length;for(var l=0;l<u.length;l++)if(!r.i(f.b)(t.mesh,l)&&o[l]>n&&t[l]>0&&u[l]>=0){var h=t.mesh.vxs[l],v=t.mesh.vxs[u[l]];t[u[l]]>0?s.push([h,v]):s.push([h,[(h[0]+v[0])/2,(h[1]+v[1])/2]])}return e(s).map(i)}var f=r(1),a=r(9);n.b=e,n.a=u},function(t,n,r){"use strict";var e=(r(13),r(0));r.d(n,"c",function(){return e.a});var i=(r(14),r(29),r(15),r(16),r(30),r(41),r(42),r(19),r(32));r.d(n,"b",function(){return i.a});var u=r(33);r.d(n,"e",function(){return u.a});var f=(r(34),r(35),r(17));r.d(n,"a",function(){return f.a});var a=(r(36),r(37),r(5));r.d(n,"d",function(){return a.a});r(18),r(38),r(39),r(40),r(20),r(21),r(22),r(43)},function(t,n,r){"use strict";r.d(n,"b",function(){return i}),r.d(n,"a",function(){return u});var e=Array.prototype,i=e.slice,u=e.map},function(t,n,r){"use strict";var e=r(0),i=r(14),u=r.i(i.a)(e.a),f=u.right;u.left;n.a=f},function(t,n,r){"use strict";function e(t){return function(n,e){return r.i(i.a)(t(n),e)}}var i=r(0);n.a=function(t){return 1===t.length&&(t=e(t)),{left:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)<0?e=u+1:i=u}return e},right:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)>0?i=u:e=u+1}return e}}}},function(t,n,r){"use strict";var e=r(22);n.a=function(t,n){var i=r.i(e.a)(t,n);return i?Math.sqrt(i):i}},function(t,n,r){"use strict";n.a=function(t,n){var r,e,i,u=-1,f=t.length;if(null==n){for(;++u<f;)if(null!=(e=t[u])&&e>=e){r=i=e;break}for(;++u<f;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else{for(;++u<f;)if(null!=(e=n(t[u],u,t))&&e>=e){r=i=e;break}for(;++u<f;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e))}return[r,i]}},function(t,n,r){"use strict";n.a=function(t,n){var r,e,i=-1,u=t.length;if(null==n){for(;++i<u;)if(null!=(e=t[i])&&e>=e){r=e;break}for(;++i<u;)null!=(e=t[i])&&r>e&&(r=e)}else{for(;++i<u;)if(null!=(e=n(t[i],i,t))&&e>=e){r=e;break}for(;++i<u;)null!=(e=n(t[i],i,t))&&r>e&&(r=e)}return r}},function(t,n,r){"use strict";n.a=function(t,n,r){t=+t,n=+n,r=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+r;for(var e=-1,i=0|Math.max(0,Math.ceil((n-t)/r)),u=new Array(i);++e<i;)u[e]=t+e*r;return u}},function(t,n,r){"use strict";n.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,n,r){"use strict";function e(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),o=e/i;return o>=u?i*=10:o>=f?i*=5:o>=a&&(i*=2),n<t?-i:i}var i=r(18),u=Math.sqrt(50),f=Math.sqrt(10),a=Math.sqrt(2);n.a=function(t,n,u){var f=e(t,n,u);return r.i(i.a)(Math.ceil(t/f)*f,Math.floor(n/f)*f+f/2,f)}},function(t,n,r){"use strict";function e(t){return t.length}var i=r(17);n.a=function(t){if(!(a=t.length))return[];for(var n=-1,u=r.i(i.a)(t,e),f=new Array(u);++n<u;)for(var a,o=-1,s=f[n]=new Array(a);++o<a;)s[o]=t[o][n];return f}},function(t,n,r){"use strict";var e=r(2);n.a=function(t,n){var i,u,f=t.length,a=0,o=0,s=-1,c=0;if(null==n)for(;++s<f;)isNaN(i=r.i(e.a)(t[s]))||(u=i-a,a+=u/++c,o+=u*(i-a));else for(;++s<f;)isNaN(i=r.i(e.a)(n(t[s],s,t)))||(u=i-a,a+=u/++c,o+=u*(i-a));if(c>1)return o/(c-1)}},function(t,n,r){"use strict";function e(t){return c.c[t.index]={site:t,halfedges:[]}}function i(t,n){var r=t.site,e=n.left,i=n.right;return r===i&&(i=e,e=r),i?Math.atan2(i[1]-e[1],i[0]-e[0]):(r===e?(e=n[1],i=n[0]):(e=n[0],i=n[1]),Math.atan2(e[0]-i[0],i[1]-e[1]))}function u(t,n){return n[+(n.left!==t.site)]}function f(t,n){return n[+(n.left===t.site)]}function a(){for(var t,n,r,e,u=0,f=c.c.length;u<f;++u)if((t=c.c[u])&&(e=(n=t.halfedges).length)){var a=new Array(e),o=new Array(e);for(r=0;r<e;++r)a[r]=r,o[r]=i(t,c.d[n[r]]);for(a.sort(function(t,n){return o[n]-o[t]}),r=0;r<e;++r)o[r]=n[a[r]];for(r=0;r<e;++r)n[r]=o[r]}}function o(t,n,e,i){var a,o,l,h,v,g,d,b,p,m,M,C,x=c.c.length,y=!0;for(a=0;a<x;++a)if(o=c.c[a]){for(l=o.site,v=o.halfedges,h=v.length;h--;)c.d[v[h]]||v.splice(h,1);for(h=0,g=v.length;h<g;)m=f(o,c.d[v[h]]),M=m[0],C=m[1],d=u(o,c.d[v[++h%g]]),b=d[0],p=d[1],(Math.abs(M-b)>c.b||Math.abs(C-p)>c.b)&&(v.splice(h,0,c.d.push(r.i(s.b)(l,m,Math.abs(M-t)<c.b&&i-C>c.b?[t,Math.abs(b-t)<c.b?p:i]:Math.abs(C-i)<c.b&&e-M>c.b?[Math.abs(p-i)<c.b?b:e,i]:Math.abs(M-e)<c.b&&C-n>c.b?[e,Math.abs(b-e)<c.b?p:n]:Math.abs(C-n)<c.b&&M-t>c.b?[Math.abs(p-n)<c.b?b:t,n]:null))-1),++g);g&&(y=!1)}if(y){var L,R,N,w=1/0;for(a=0,y=null;a<x;++a)(o=c.c[a])&&(l=o.site,L=l[0]-t,R=l[1]-n,N=L*L+R*R,N<w&&(w=N,y=o));if(y){var U=[t,n],k=[t,i],P=[e,i],_=[e,n];y.halfedges.push(c.d.push(r.i(s.b)(l=y.site,U,k))-1,c.d.push(r.i(s.b)(l,k,P))-1,c.d.push(r.i(s.b)(l,P,_))-1,c.d.push(r.i(s.b)(l,_,U))-1)}}for(a=0;a<x;++a)(o=c.c[a])&&(o.halfedges.length||delete c.c[a])}var s=r(6),c=r(3);n.d=e,n.c=u,n.a=a,n.b=o},function(t,n,r){"use strict";function e(){r.i(f.b)(this),this.x=this.y=this.arc=this.site=this.cy=null}function i(t){var n=t.P,r=t.N;if(n&&r){var i=n.site,u=t.site,f=r.site;if(i!==f){var c=u[0],l=u[1],h=i[0]-c,v=i[1]-l,g=f[0]-c,d=f[1]-l,b=2*(h*d-v*g);if(!(b>=-a.f)){var p=h*h+v*v,m=g*g+d*d,M=(d*p-v*m)/b,C=(h*m-g*p)/b,x=s.pop()||new e;x.arc=t,x.site=u,x.x=M+c,x.y=(x.cy=C+l)+Math.sqrt(M*M+C*C),t.circle=x;for(var y=null,L=a.g._;L;)if(x.y<L.y||x.y===L.y&&x.x<=L.x){if(!L.L){y=L.P;break}L=L.L}else{if(!L.R){y=L;break}L=L.R}a.g.insert(y,x),y||(o=x)}}}}function u(t){var n=t.circle;n&&(n.P||(o=n.N),a.g.remove(n),s.push(n),r.i(f.b)(n),t.circle=null)}var f=r(7),a=r(3);r.d(n,"a",function(){return o}),n.c=i,n.b=u;var o,s=[]},function(t,n,r){"use strict";function e(t,n){o()(t,{global:n})}function i(t,n,i){t=t||Math.pow(2,10),n=n||"map",e(n,i);var u=r.i(c.a)({npts:t,extent:s.a});return{points:u,coast:r.i(h.a)(u,0),rivers:r.i(l.a)(u,.03),mesh:u.mesh}}function u(t,n){return void 0===t||null===t?n:t}function f(t,n,e,i){n=u(n,.1),e=u(e,.5),i=u(i,1);var f=r.i(c.b)(t,n);f=r.i(v.a)(f,e),f=r.i(c.c)(f,i),f=r.i(v.b)(f);var a=r.i(h.a)(f,0),o=r.i(l.a)(f,.01);return{points:f,coast:a,rivers:o,mesh:f.mesh}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(50),o=r.n(a),s=r(8),c=r(26),l=r(10),h=r(27),v=r(4);n.generateMap=i,n.erodeMap=f},function(t,n,r){"use strict";function e(t,n){for(var e=0;e<n;e++){for(var i=0,u=r.i(o.a)(t.mesh),f=0;f<t.length;f++){u[f]=t[f];var a=r.i(s.c)(t.mesh,f);if(!(t[f]<=0||3!=a.length)){for(var c=0,l=-999999,h=0;h<a.length;h++)t[a[h]]>0?c++:t[a[h]]>l&&(l=t[a[h]]);c>1||(u[f]=l/2,i++)}}t=u,u=r.i(o.a)(t.mesh);for(var f=0;f<t.length;f++){u[f]=t[f];var a=r.i(s.c)(t.mesh,f);if(!(t[f]>0||3!=a.length)){for(var c=0,l=999999,h=0;h<a.length;h++)t[a[h]]<=0?c++:t[a[h]]<l&&(l=t[a[h]]);c>1||(u[f]=l/2,i++)}}t=u}return t}function i(t){for(var n=r.i(o.a)(t.mesh),e=function(n){return t[n]},i=0;i<t.length;i++){var u=r.i(s.c)(t.mesh,i);u.length<3?n[i]=0:n[i]=r.i(l.e)(u.map(e))}return n}function u(t,n){for(var e=r.i(c.a)(t),i=r.i(o.a)(t.mesh),u=r.i(l.b)(e),f=0;f<t.length;f++)i[f]=t[f]-n*(e[f]/u);return i}function f(t,n,e){e=e||1,t=r.i(s.b)(t);for(var i=0;i<e;i++)t=u(t,n),t=r.i(s.b)(t);return t}function a(t){for(var n=r.i(o.c)(t.npts,t.extent),u=r.i(o.d)(r.i(o.e)(n,r.i(o.f)(4)),r.i(s.d)(n,r.i(o.g)(-1,-1)),r.i(s.e)(n,50)),a=0;a<10;a++)u=i(u);return u=r.i(s.f)(u),u=f(u,r.i(o.g)(0,.1),5),u=r.i(s.a)(u,r.i(o.g)(.2,.6)),u=r.i(s.b)(u),u=e(u,3)}var o=r(1),s=r(4),c=r(9),l=r(11);n.c=e,n.b=f,n.a=a},function(t,n,r){"use strict";function e(t,n){n=n||0;for(var e=[],f=0;f<t.mesh.edges.length;f++){var a=t.mesh.edges[f];void 0!=a[3]&&(r.i(i.b)(t.mesh,a[0])||r.i(i.b)(t.mesh,a[1])||(t[a[0]]>n&&t[a[1]]<=n||t[a[1]]>n&&t[a[0]]<=n)&&e.push([a[2],a[3]]))}return r.i(u.b)(e)}var i=r(1),u=r(10);n.a=e},function(t,n,r){"use strict";n.a=function(t){return function(){return t}}},function(t,n,r){"use strict"},function(t,n,r){"use strict";r(12),r(13),r(28),r(16),r(31),r(20),r(19)},function(t,n,r){"use strict";n.a=function(t){return t}},function(t,n,r){"use strict";n.a=function(t,n){var r,e,i=-1,u=t.length;if(null==n){for(;++i<u;)if(null!=(e=t[i])&&e>=e){r=e;break}for(;++i<u;)null!=(e=t[i])&&e>r&&(r=e)}else{for(;++i<u;)if(null!=(e=n(t[i],i,t))&&e>=e){r=e;break}for(;++i<u;)null!=(e=n(t[i],i,t))&&e>r&&(r=e)}return r}},function(t,n,r){"use strict";var e=r(2);n.a=function(t,n){var i,u=0,f=t.length,a=-1,o=f;if(null==n)for(;++a<f;)isNaN(i=r.i(e.a)(t[a]))?--o:u+=i;else for(;++a<f;)isNaN(i=r.i(e.a)(n(t[a],a,t)))?--o:u+=i;if(o)return u/o}},function(t,n,r){"use strict";r(0),r(2),r(5)},function(t,n,r){"use strict"},function(t,n,r){"use strict"},function(t,n,r){"use strict"},function(t,n,r){"use strict";r(0)},function(t,n,r){"use strict"},function(t,n,r){"use strict"},function(t,n,r){"use strict";r(12),r(0),r(2),r(5)},function(t,n,r){"use strict";r(15)},function(t,n,r){"use strict";r(21)},function(t,n,r){"use strict";var e=r(48);r.d(n,"a",function(){return e.a})},function(t,n,r){"use strict";function e(){r.i(c.b)(this),this.edge=this.site=this.circle=null}function i(t){var n=d.pop()||new e;return n.site=t,n}function u(t){r.i(h.b)(t),g.e.remove(t),d.push(t),r.i(c.b)(t)}function f(t){var n=t.circle,e=n.x,i=n.cy,f=[e,i],a=t.P,o=t.N,s=[t];u(t);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<g.b&&Math.abs(i-c.circle.cy)<g.b;)a=c.P,s.unshift(c),u(c),c=a;s.unshift(c),r.i(h.b)(c);for(var l=o;l.circle&&Math.abs(e-l.circle.x)<g.b&&Math.abs(i-l.circle.cy)<g.b;)o=l.N,s.push(l),u(l),l=o;s.push(l),r.i(h.b)(l);var d,b=s.length;for(d=1;d<b;++d)l=s[d],c=s[d-1],r.i(v.c)(l.edge,c.site,l.site,f);c=s[0],l=s[b-1],l.edge=r.i(v.d)(c.site,l.site,null,f),r.i(h.c)(c),r.i(h.c)(l)}function a(t){for(var n,e,u,f,a=t[0],c=t[1],d=g.e._;d;)if(u=o(d,c)-a,u>g.b)d=d.L;else{if(f=a-s(d,c),!(f>g.b)){u>-g.b?(n=d.P,e=d):f>-g.b?(n=d,e=d.N):n=e=d;break}if(!d.R){n=d;break}d=d.R}r.i(l.d)(t);var b=i(t);if(g.e.insert(n,b),n||e){if(n===e)return r.i(h.b)(n),e=i(n.site),g.e.insert(b,e),b.edge=e.edge=r.i(v.d)(n.site,b.site),r.i(h.c)(n),void r.i(h.c)(e);if(!e)return void(b.edge=r.i(v.d)(n.site,b.site));r.i(h.b)(n),r.i(h.b)(e);var p=n.site,m=p[0],M=p[1],C=t[0]-m,x=t[1]-M,y=e.site,L=y[0]-m,R=y[1]-M,N=2*(C*R-x*L),w=C*C+x*x,U=L*L+R*R,k=[(R*w-x*U)/N+m,(C*U-L*w)/N+M];r.i(v.c)(e.edge,p,y,k),b.edge=r.i(v.d)(p,t,null,k),e.edge=r.i(v.d)(t,y,null,k),r.i(h.c)(n),r.i(h.c)(e)}}function o(t,n){var r=t.site,e=r[0],i=r[1],u=i-n;if(!u)return e;var f=t.P;if(!f)return-(1/0);r=f.site;var a=r[0],o=r[1],s=o-n;if(!s)return a;var c=a-e,l=1/u-1/s,h=c/s;return l?(-h+Math.sqrt(h*h-2*l*(c*c/(-2*s)-o+s/2+i-u/2)))/l+e:(e+a)/2}function s(t,n){var r=t.N;if(r)return o(r,n);var e=t.site;return e[1]===n?e[0]:1/0}var c=r(7),l=r(23),h=r(24),v=r(6),g=r(3);n.b=f,n.a=a;var d=[]},function(t,n,r){"use strict";n.a=function(t){return function(){return t}}},function(t,n,r){"use strict";function e(t){return t[0]}function i(t){return t[1]}n.a=e,n.b=i},function(t,n,r){"use strict";var e=r(46),i=r(47),u=r(3);n.a=function(){function t(t){return new u.a(t.map(function(r,e){var i=[Math.round(n(r,e,t)/u.b)*u.b,Math.round(f(r,e,t)/u.b)*u.b];return i.index=e,i.data=r,i}),a)}var n=i.a,f=i.b,a=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(i){return arguments.length?(n="function"==typeof i?i:r.i(e.a)(+i),t):n},t.y=function(n){return arguments.length?(f="function"==typeof n?n:r.i(e.a)(+n),t):f},t.extent=function(n){return arguments.length?(a=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):a&&[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},t.size=function(n){return arguments.length?(a=null==n?null:[[0,0],[+n[0],+n[1]]],t):a&&[a[1][0]-a[0][0],a[1][1]-a[0][1]]},t}},function(t,n){},function(t,n,r){var e;!function(i,u){function f(t,n,r){var e=[];n=1==n?{entropy:!0}:n||{};var f=c(s(n.entropy?[t,h(i)]:null==t?l():t,3),e),v=new a(e),g=function(){for(var t=v.g(b),n=M,r=0;t<C;)t=(t+r)*d,n*=d,r=v.g(1);for(;t>=x;)t/=2,n/=2,r>>>=1;return(t+r)/n};return g.int32=function(){return 0|v.g(4)},g.quick=function(){return v.g(4)/4294967296},g.double=g,c(h(v.S),i),(n.pass||r||function(t,n,r,e){return e&&(e.S&&o(e,v),t.state=function(){return o(v,{})}),r?(u[m]=t,n):t})(g,f,"global"in n?n.global:this==u,n.state)}function a(t){var n,r=t.length,e=this,i=0,u=e.i=e.j=0,f=e.S=[];for(r||(t=[r++]);i<d;)f[i]=i++;for(i=0;i<d;i++)f[i]=f[u=y&u+t[i%r]+(n=f[i])],f[u]=n;(e.g=function(t){for(var n,r=0,i=e.i,u=e.j,f=e.S;t--;)n=f[i=y&i+1],r=r*d+f[y&(f[i]=f[u=y&u+n])+(f[u]=n)];return e.i=i,e.j=u,r})(d)}function o(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function s(t,n){var r,e=[],i=typeof t;if(n&&"object"==i)for(r in t)try{e.push(s(t[r],n-1))}catch(t){}return e.length?e:"string"==i?t:t+"\0"}function c(t,n){for(var r,e=t+"",i=0;i<e.length;)n[y&i]=y&(r^=19*n[y&i])+e.charCodeAt(i++);return h(n)}function l(){try{if(v)return h(v.randomBytes(d));var t=new Uint8Array(d);return(g.crypto||g.msCrypto).getRandomValues(t),h(t)}catch(t){var n=g.navigator,r=n&&n.plugins;return[+new Date,g,r,g.screen,h(i)]}}function h(t){return String.fromCharCode.apply(0,t)}var v,g=this,d=256,b=6,p=52,m="random",M=u.pow(d,b),C=u.pow(2,p),x=2*C,y=d-1;if(u["seed"+m]=f,c(u.random(),i),"object"==typeof t&&t.exports){t.exports=f;try{v=r(49)}catch(t){}}else e=function(){return f}.call(n,r,n,t),!(void 0!==e&&(t.exports=e))}([],Math)},function(t,n,r){t.exports=r(25)}]);